<template>
    <section id="home">
        <ui-header/>
        <section class="circle component__style">
            <img src="@/assets/image/common/circle.svg" alt="">
        </section>
        <section class="work component__style">
            <Title titleText="selected work"></Title>
            <div class="item t1 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/pickdata/pickdata_thumb.png" alt=""></div>
                    <p class="image__name">PickData - SNS Solution</p>
                </div>
                <div class="introduction">
                    <p><span>페이스북 광고 솔루션으로</span></p>
                    <p><span>고효율의 LP&관심사 키워드 추천</span></p>
                    <p><span>최적화 소재구현, 관심사 적정도 검사</span></p>
                    <p><span>3가지 주요기능을 담고있습니다.</span></p>
                    <p class="people first"><span>기획자 2, 디자이너 1</span></p>
                    <p class="people"><span>퍼블리셔(본인) 1, 프론트엔드개발자 1, 백엔드개발자 3</span></p>
                    <p class="spec first"><span>#vue.js, #javascript #html5</span></p>
                    <p class="spec"><span>#css3, #oocss, #splite</span></p>
                </div>
            </div>
            <div class="item t2 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/noice/noice_thumb.png" alt=""></div>
                    <p class="image__name">NOICE - Clothing</p>
                </div>
                <div class="introduction">
                    <p><span>워크웨어 패션의류 쇼핑몰</span></p>
                    <p><span>PC,MOBILE 모든페이지 퍼블리싱하였으며</span></p>
                    <p><span>카페24 솔루션을 기반으로 작업하였습니다.</span></p>
                    <p><span>불필요한 요소를 최소화 하고</span></p>
                    <p><span>sticky를 사용하여 부드러운 고정 레이아웃을 연출</span></p>
                    <p class="people first"><span>기획자 1, 디자이너 1, 퍼블리셔(본인) 1</span></p>
                    <p class="spec first"><span>#jquery, #html5, #css3</span></p>
                    <p class="spec"><span>#splite, #lazyloading</span></p>
                </div>
            </div>
            <div class="item t3 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/bigcial/bigcial_thumb.png" alt=""></div>
                    <p class="image__name">BigCial - SNS Solution</p>
                </div>
                <div class="introduction">
                    <p><span>인스타그램 운영의 첫 걸음, bigcial</span></p>
                    <p><span>계정,팔로워,게시물,경쟁사,해시태그 데이터 제공</span></p>
                    <p><span>게시물 예약 업로드 제공, 이벤트 댓글 추첨, 유저관리 해시태그관리</span></p>
                    <p><span>3가지 주요기능을 담고있습니다.</span></p>
                    <p class="people first"><span>기획자 3, 디자이너 2</span></p>
                    <p class="people"><span>퍼블리셔(본인) 1, 프론트엔드개발자 2, 백엔드개발자 3</span></p>
                    <p class="spec first"><span>#vue.js, #javascript, #html5</span></p>
                    <p class="spec"><span>#css3, #bem, #splite</span></p>
                </div>
            </div>
            <div class="item t1 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/asof/asof_thumb.png" alt=""></div>
                    <p class="image__name">A-SOF - Clothing</p>
                </div>
                <div class="introduction">
                    <p><span>스트릿 기반 패션의류 쇼핑몰</span></p>
                    <p><span>PC,MOBILE 모든페이지 퍼블리싱하였으며</span></p>
                    <p><span>카페24 솔루션을 기반으로 작업하였습니다.</span></p>
                    <p><span>grid레이아웃을 사용하여 좀 더 크리에이티브하고</span></p>
                    <p><span>ux에 중점을 두고 작업을 진행하였습니다.</span></p>
                    <p class="people first"><span>기획자 1, 디자이너 1, 퍼블리셔(본인) 1</span></p>
                    <p class="spec first"><span>#jquery, #html5, #css3</span></p>
                    <p class="spec"><span>#splite, #lazyloading</span></p>
                </div>
            </div>
            <div class="item t2 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/slowglow/slowglow_thumb.png" alt=""></div>
                    <p class="image__name">SlowGlow - Health functional food.</p>
                </div>
                <div class="introduction">
                    <p><span>건강기능식품 쇼핑몰</span></p>
                    <p><span>PC,MOBILE 모든페이지 퍼블리싱하였으며</span></p>
                    <p><span>위사 솔루션을 기반으로 작업하였습니다.</span></p>
                    <p><span>불필요한 요소를 최소화 하고 최적화 작업진행</span></p>
                    <p class="people first"><span>기획자 1, 디자이너 3</span></p>
                    <p class="people"><span>퍼블리셔(본인) 1, 백엔드개발자 1</span></p>
                    <p class="spec first"><span>#jquery, #html5, #css3</span></p>
                    <p class="spec"><span>#splite, #lazyloading</span></p>
                </div>
            </div>
            <div class="item t3 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/mula/mula_thumb.png" alt=""></div>
                    <p class="image__name">MulaWear - SportsWear</p>
                </div>
                <div class="introduction">
                    <p><span>스포츠의류 쇼핑몰</span></p>
                    <p><span>PC,MOBILE 모든페이지 퍼블리싱하였으며</span></p>
                    <p><span>4개국어(한국,중국.일본,미국) 홈페이지를</span></p>
                    <p><span>메이크샵 솔루션을 기반으로 작업하였습니다.</span></p>
                    <p><span>불필요한 요소를 최소화 하고</span></p>
                    <p class="people first"><span>기획자 1, 디자이너 2</span></p>
                    <p class="people"><span>퍼블리셔(본인) 1</span></p>
                    <p class="spec first"><span>#jquery, #html5, #css3</span></p>
                    <p class="spec"><span>#splite, #lazyloading</span></p>
                </div>
            </div>
        </section>
        <section class="story scroll-handler">
            <p><span>The fact that time went by so fast...</span></p>
            <p><span>Why does it only hit me at the end of the calendar?</span></p>
            <p><span>I wanted to be a different person from last year.</span></p>
            <p><span>So many resolutions that I've made up my mind</span></p>
            <p><span>It was a promise that I couldn't keep.</span></p>
        </section>
        <section class="about component__style scroll-handler">
            <Title titleText="about me"></Title>
            <div class="inner">
                <div class="age">
                    <div class="front">
                        <span>2</span>
                        <span>3</span>
                    </div>
                    <div class="back">
                        <span>5</span>
                        <span>4</span>
                        <span>3</span>
                        <span>2</span>
                    </div>
                    <div class="text">AGE</div>
                </div>
                <div class="name"><span>LIM.JUNE.SU</span></div>
                <div class="phone"><span>010.5558.0087</span></div>
            </div>
        </section>
        <section class="contact component__style scroll-handler">
            <Title titleText="project list"></Title>
            <div class="inner">
                <router-link to="/Experience">
                    <div class="sub-title">
                        <p><span>+</span></p>
                        <p><span>View</span></p>
                        <p><span>More</span></p>
                    </div>
                </router-link>
                <p class="item scale"><span>Goodirect</span></p>
                <p class="item scale"><span>SWMP</span></p>
                <p class="item scale"><span>GreenCar</span></p>
                <p class="item scale"><span>Creative lib</span></p>
                <p class="item scale"><span>Veracity</span></p>
                <p class="item scale"><span>Wando</span></p>
                <p class="item scale"><span>Hj-Retail</span></p>
            </div>
        </section>
    </section>
</template>

<script>
    import Header from '@/components/Header.vue';
    import Title from '@/components/Title.vue';
    import gsap from 'gsap';
    import ScrollTrigger from "gsap/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);

    export default {
        name: 'Home',
        components: {
            'ui-header': Header,
            Title
        },
        mounted:function () {
            window.addEventListener("scroll", this.sectionHandle); // 스크롤 섹션 접근시 scroll-handler에 클래스추가
            // window.addEventListener("scroll", this.bgHandle); // 스크롤 섹션 접근시 body에 클래스 추가
            // this.horizontalScroll(); // 가로 스크롤
            //this.timeAnimation(); // 텍스트 교차 애니메이션
        },
        methods: {
            sectionHandle: function () {
                let target = document.querySelectorAll(".scroll-handler");
                let targetPosition;
                for ( let i = 0; i < target.length; i++ ) {
                    targetPosition = target[i].getBoundingClientRect().top + 300;
                    let screenSize = window.innerHeight;
                    if ( targetPosition < screenSize && !target[i].classList.contains("active") ) {
                        target[i].classList.add("active");
                    }
                }
            },

            bgHandle: function () {
                let target = document.querySelectorAll(".work");
                let body = document.body;
                let targetPosition;
                for ( let i = 0; i < target.length; i++ ) {
                    targetPosition = target[i].getBoundingClientRect().top + 300;
                    let screenSize = window.innerHeight;
                    if ( targetPosition < screenSize && !target[i].classList.contains("bg__style") ) {
                        body.classList.add("bg__style");
                    } else {
                        body.classList.remove("bg__style");
                    }
                }
            },

            horizontalScroll: function () {
                const horizontalSections = gsap.utils.toArray('.horizontal__scroll')
                horizontalSections.forEach(function (sec) {
                    let thisPinWrap = sec.querySelector('.horizontal__scroll--pin');
                    let thisAnimWrap = thisPinWrap.querySelector('.horizontal__scroll__items');
                    let getToValue = () => - (thisAnimWrap.scrollWidth - window.innerWidth);

                    gsap.fromTo(thisAnimWrap, {
                        x: () => thisAnimWrap.classList.contains('to-right') ? 0 : getToValue()
                    }, {
                        x: () => thisAnimWrap.classList.contains('to-right') ? getToValue() : 0,
                        ease: "none",
                        scrollTrigger: {
                            trigger: sec,
                            start: "top top",
                            end: () => "+=" + ( thisAnimWrap.scrollWidth - window.innerWidth ),
                            pin: thisPinWrap,
                            invalidateOnRefresh: true,
                            scrub: true,
                        }
                    });
                });
            },
            timeAnimation: function () {
                gsap.to(".time-difference", {
                    yPercent: -50,
                    ease: "none",
                    scrollTrigger: {
                        trigger: ".work",
                        scrub: 1,
                        start: "top center"
                    },
                });

            }
        }
    }
</script>

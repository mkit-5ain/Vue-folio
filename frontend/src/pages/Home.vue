<template>
    <section id="home">
        <ui-header/>
        <section class="circle component__style">
            <img src="@/assets/image/common/circle.svg" alt="">
        </section>
        <section class="work component__style">
            <Title titleText="selected work"></Title>
            <div class="item t1 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/slowglow/slowglow_thumb.png" alt=""></div>
                    <p class="image__name">SlowGlow - Health functional food.</p>
                </div>
                <div class="introduction">
                    <p><span>SlowGlow는 세가지 기능성을 하나에 담아</span></p>
                    <p><span>자신의 외모와 신체에 대한 생각들을 점검하고</span></p>
                    <p><span>남들과 같은 기준으로 아름다워지기보다</span></p>
                    <p><span>진정한 나만의 아름다움을 찾기위해</span></p>
                    <p><span>더 이상 자극적이거나 무리하지않고</span></p>
                    <p><span>차근차근 처넌히 더 건강하고</span></p>
                    <p><span>오랫동안 빛날수 있도록 나만의 속도대로</span></p>
                    <p><span>나만의 아름다움을 맏들어갑니다.</span></p>
                </div>
            </div>
            <div class="item t2 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/noice/noice_thumb.png" alt=""></div>
                    <p class="image__name">NOICE - Clothing</p>
                </div>
                <div class="introduction">
                    <p><span>Noice는 사운드와 같은 인간의 감각에서</span></p>
                    <p><span>영감을 받아 그들은 컬렉션에 편안함과 기능을</span></p>
                    <p><span>통합하고 전통적인 작업복을 다용도로 재정의했다.</span></p>
                    <p><span>이러한 현대적인 유틸리티 미학이</span></p>
                    <p><span>일상 생활 필수품에 더해져 모든 스타일링에</span></p>
                    <p><span>미묘한 우아함을 구축합니다.</span></p>
                </div>
            </div>
            <div class="item t3 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/asof/asof_thumb.png" alt=""></div>
                    <p class="image__name">A-SOF - Clothing</p>
                </div>
                <div class="introduction">
                    <p><span>A·SOF™는 스트릿 디자인을 기반으로</span></p>
                    <p><span>편안한 실루엣을 추구하는 캐주얼 웨어 브랜드 입니다.</span></p>
                    <p><span>끊임 없는 변화속에서 기존의 관습을 거부하고</span></p>
                    <p><span>새로운 도전을 하는 스트릿 문화의 영감을 받아</span></p>
                    <p><span>래픽을 활용해 브랜드의 감성을 표현하고,</span></p>
                    <p><span>기본이 되는 소재부터 디테일까지 직접 개발하여</span></p>
                    <p><span>새로운 스타일을 제시합니다.</span></p>
                </div>
            </div>
            <div class="item t1 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/bigcial/bigcial_thumb.png" alt=""></div>
                    <p class="image__name">BigCial - SNS Solution</p>
                </div>
                <div class="introduction">
                    <p><span>인스타그램 운영의 첫 걸음, BigCial</span></p>
                    <p><span>20년차 광고대행사 엠포스의 노하우가 담긴 분석 솔루션, 빅셜이 도와드릴게요.</span></p>
                    <p><span>데이터 기반의 성과분석은 물론 예약업로드, 댓글추첨까지!</span></p>
                    <p><span>SNS 마케터를 위한 다양한 기능을 제공합니다.</span></p>
                </div>
            </div>
            <div class="item t2 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/pickdata/pickdata_thumb.png" alt=""></div>
                    <p class="image__name">PickData - SNS Solution</p>
                </div>
                <div class="introduction">
                    <p><span>페이스북 광고 솔루션 PickData</span></p>
                    <p><span>페이스북 광고의 최종 목적인</span></p>
                    <p><span>맞춤타겟팅에 초첨을 맞춰 수익 극대화에 도움</span></p>
                    <p><span>고효율의 LP 관심사 키워드 추천</span></p>
                    <p><span>최적화 소재 구현</span></p>
                    <p><span>관심사 적정도 검사의 3가지 주요 기능을 담고 있다.</span></p>
                </div>
            </div>
            <div class="item t3 scroll-handler">
                <div class="image">
                    <div class="image__inner"><img src="@/assets/image/common/project/mula/mula_thumb.png" alt=""></div>
                    <p class="image__name">MulaWear - SportsWear</p>
                </div>
                <div class="introduction">
                    <p><span>MulaWear는 스타일리쉬한 명품 피트니스웨어를 생산</span></p>
                    <p><span>판매하고 있는 스포츠 웨어 전문 브랜드입니다.</span></p>
                    <p><span>스포츠를 통해 건강한 웰빙라이프를</span></p>
                    <p><span>즐기는 고객님들의 니즈에 부응하고자 런칭한 뮬라웨어는</span></p>
                    <p><span>트랜디한 디자인과 최고의 품질</span></p>
                    <p><span>합리적인 가격으로 업계의 주목을 받고 있습니다.</span></p>
                </div>
            </div>
        </section>
        <section class="story scroll-handler">
            <p><span>The fact that time went by so fast...</span></p>
            <p><span>Why does it only hit me at the end of the calendar?</span></p>
            <p><span>I wanted to be a different person from last year.</span></p>
            <p><span>So many resolutions that I've made up my mind</span></p>
            <p><span>It was a promise that I couldn't keep.</span></p>
        </section>
        <section class="about component__style scroll-handler">
            <Title titleText="about me"></Title>
            <div class="inner">
                <div class="age">
                    <div class="front">
                        <span>2</span>
                        <span>3</span>
                    </div>
                    <div class="back">
                        <span>5</span>
                        <span>4</span>
                        <span>3</span>
                        <span>2</span>
                    </div>
                    <div class="text">AGE</div>
                </div>
                <div class="name"><span>LIM.JUNE.SU</span></div>
                <div class="phone"><span>010.5558.0087</span></div>
            </div>
        </section>
        <section class="contact component__style scroll-handler">
            <Title titleText="project list"></Title>
            <div class="inner">
                <router-link to="/Experience">
                    <div class="sub-title">
                        <p><span>+</span></p>
                        <p><span>View</span></p>
                        <p><span>More</span></p>
                    </div>
                </router-link>
                <p class="item scale"><span>Goodirect</span></p>
                <p class="item scale"><span>SWMP</span></p>
                <p class="item scale"><span>GreenCar</span></p>
                <p class="item scale"><span>Creative lib</span></p>
                <p class="item scale"><span>Veracity</span></p>
                <p class="item scale"><span>Wando</span></p>
                <p class="item scale"><span>Hj-Retail</span></p>
            </div>
        </section>
    </section>
</template>

<script>
    import Header from '@/components/Header.vue';
    import Title from '@/components/Title.vue';
    import gsap from 'gsap';
    import ScrollTrigger from "gsap/ScrollTrigger";
    gsap.registerPlugin(ScrollTrigger);

    export default {
        name: 'Home',
        components: {
            'ui-header': Header,
            Title
        },
        mounted:function () {
            window.addEventListener("scroll", this.sectionHandle); // 스크롤 섹션 접근시 scroll-handler에 클래스추가
            // window.addEventListener("scroll", this.bgHandle); // 스크롤 섹션 접근시 body에 클래스 추가
            // this.horizontalScroll(); // 가로 스크롤
            //this.timeAnimation(); // 텍스트 교차 애니메이션
        },
        methods: {
            sectionHandle: function () {
                let target = document.querySelectorAll(".scroll-handler");
                let targetPosition;
                for ( let i = 0; i < target.length; i++ ) {
                    targetPosition = target[i].getBoundingClientRect().top + 300;
                    let screenSize = window.innerHeight;
                    if ( targetPosition < screenSize && !target[i].classList.contains("active") ) {
                        target[i].classList.add("active");
                    }
                }
            },

            bgHandle: function () {
                let target = document.querySelectorAll(".work");
                let body = document.body;
                let targetPosition;
                for ( let i = 0; i < target.length; i++ ) {
                    targetPosition = target[i].getBoundingClientRect().top + 300;
                    let screenSize = window.innerHeight;
                    if ( targetPosition < screenSize && !target[i].classList.contains("bg__style") ) {
                        body.classList.add("bg__style");
                    } else {
                        body.classList.remove("bg__style");
                    }
                }
            },

            horizontalScroll: function () {
                const horizontalSections = gsap.utils.toArray('.horizontal__scroll')
                horizontalSections.forEach(function (sec) {
                    let thisPinWrap = sec.querySelector('.horizontal__scroll--pin');
                    let thisAnimWrap = thisPinWrap.querySelector('.horizontal__scroll__items');
                    let getToValue = () => - (thisAnimWrap.scrollWidth - window.innerWidth);

                    gsap.fromTo(thisAnimWrap, {
                        x: () => thisAnimWrap.classList.contains('to-right') ? 0 : getToValue()
                    }, {
                        x: () => thisAnimWrap.classList.contains('to-right') ? getToValue() : 0,
                        ease: "none",
                        scrollTrigger: {
                            trigger: sec,
                            start: "top top",
                            end: () => "+=" + ( thisAnimWrap.scrollWidth - window.innerWidth ),
                            pin: thisPinWrap,
                            invalidateOnRefresh: true,
                            scrub: true,
                        }
                    });
                });
            },
            timeAnimation: function () {
                gsap.to(".time-difference", {
                    yPercent: -50,
                    ease: "none",
                    scrollTrigger: {
                        trigger: ".work",
                        scrub: 1,
                        start: "top center"
                    },
                });

            }
        }
    }
</script>
